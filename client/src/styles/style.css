/* =========================================================
   THEME TOKENS
   ========================================================= */
:root{
  --bg:#ffffff; --ink:#121212; --muted:#666; --stroke:#e7e3dc;
  --sand:#f6efe6; --linen:#fbf7f1; --sepia:#7a6446; --umber:#6b4e2e;
  --card:#fff; --focus:#6b4e2e; --success:#125b2a; --danger:#7f1d1d;
  --shadow:0 6px 24px rgba(0,0,0,.08);

  /* Auth palette derived from umber */
  --primary: var(--umber);
  --ring: rgba(107, 78, 46, .28);
}

/* =========================================================
   BASE / LAYOUT
   ========================================================= */
*{ box-sizing:border-box }
html, body, #root{ height:100% }
html { scroll-behavior: smooth; }
body{ margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif; color:var(--ink); background:var(--bg); line-height:1.5 }
.shell{ max-width:1100px; margin:0 auto; padding:0 20px }
main{ display:grid; gap:20px; padding:24px 0 40px }
.grid-2{ display:grid; gap:20px; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)) }
.hidden{ display:none !important }

/* Keep footer at bottom */
.app-frame{ min-height:100vh; display:flex; flex-direction:column }
.app-frame > main{ flex:1 }

/* =========================================================
   HEADER
   ========================================================= */
.site-header{ background:#000; color:#fff; border-bottom:6px solid var(--sand) }
.site-header .shell{ display:flex; align-items:center; justify-content:space-between; height:64px }
.brand{ display:flex; align-items:center; gap:12px }
.brand-mark{
  width:32px; height:32px; border-radius:6px; display:flex; align-items:center; justify-content:center;
  background:linear-gradient(135deg,#2b2b2b,#000); box-shadow:inset 0 0 0 2px rgba(255,255,255,.12); overflow:hidden;
}
.brand-mark img{ display:block; width:22px; height:22px; filter:brightness(0) invert(1) }
.brand-text{ display:grid }
.brand-text strong{ font-weight:700; letter-spacing:.1px }
.brand-text span{ font-size:12px; opacity:.9 }
.site-nav{ display:flex; gap:16px }
.nav-link{ color:#fff; text-decoration:none; opacity:.9; font-weight:600; padding:6px 8px; border-radius:8px }
.nav-link:hover,.nav-link:focus{ opacity:1; background:rgba(255,255,255,.08); outline:none }

/* =========================================================
   CARDS & PANELS
   ========================================================= */
.card{ background:var(--card); border:1px solid var(--stroke); border-radius:16px; padding:20px; box-shadow:var(--shadow) }
.card-title{ margin:0 0 6px; font-size:20px; font-weight:700 }
.emphasis{ background:var(--linen); border-color:#eadfce; overflow:hidden } /* prevent inner overflow */
.panel{ background:#fff; border:1px solid var(--stroke); border-radius:14px; padding:16px; box-shadow:0 1px 2px rgba(0,0,0,.04) }
.panel-title{ margin:0 0 10px; font-size:16px }
.muted{ color:var(--muted) }
.mono{ font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace }

/* Inline cards row for GM config + Session Stats */
.cards-row{ display:grid; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); gap:20px; align-items:stretch; grid-auto-rows:1fr }
.cards-row > .card{ height:100%; display:flex; flex-direction:column }

/* =========================================================
   FOOTER
   ========================================================= */
.site-footer{ border-top:1px solid var(--stroke); padding:14px 0; background:#faf6f0; font-size:13px; color:var(--muted) }

/* =========================================================
   STEPPER
   ========================================================= */
.stepper{ display:flex; align-items:center; gap:12px; margin:-6px 0 16px }
.step{ display:flex; align-items:center; gap:8px; color:#999 }
.step .dot{ width:28px; height:28px; border-radius:50%; display:grid; place-items:center; border:2px solid #c9b9a4; background:#fff; color:#6b4e2e; font-weight:700 }
.step.is-active{ color:#000 }
.step.is-active .dot{ background:#6b4e2e; color:#fff; border-color:#6b4e2e }
.rail{ height:2px; background:#e4d7c3; flex:1; border-radius:2px }

/* =========================================================
   FIELDS
   ========================================================= */
.field{ margin-bottom:14px }
.field label{ display:block; font-weight:600; margin-bottom:6px }
.field .hint{ margin:4px 0 0; color:#8a7a61; font-size:13px }
.field .error{ margin:4px 0 0; color:var(--danger); font-size:13px; min-height:1.2em }
input[type=number], input[type=file], .ctrl, .ctrl-lg, .ctrl-xl{
  width:100%; max-width:380px; padding:10px 12px; border:1px solid var(--stroke); border-radius:10px; background:#fff; color:var(--ink); height:40px;
}
.ctrl-lg{ height:40px } .ctrl-xl{ height:44px; padding:10px 12px }
input:focus, .ctrl:focus, .ctrl-lg:focus, .ctrl-xl:focus{ outline:3px solid var(--focus); outline-offset:2px }

/* =========================================================
   DROPZONE (Upload)
   ========================================================= */
.dropzone{
  position:relative; display:grid; place-items:center; text-align:center; gap:6px;
  border:2px dashed #c9b9a4; border-radius:14px; background:#fff; padding:26px; cursor:pointer;
  transition: background .15s ease, border-color .15s ease, box-shadow .15s ease;
}
.dropzone:hover{ background:#fffaf2; border-color:#bfa98a }
.dropzone:focus{ outline:3px solid var(--focus); outline-offset:2px }
.dropzone:focus-within{ outline:3px solid var(--focus); outline-offset:2px }
.dropzone.is-drag{ background:#fff4e6; border-color:#6b4e2e; box-shadow: inset 0 0 0 2px rgba(107,78,46,.15) }
.dropzone input[type=file]{ position:absolute; inset:0; opacity:0; cursor:pointer }
.dz-icon{ font-size:28px; color:#6b4e2e; transition: transform .15s ease }
.dropzone:hover .dz-icon, .dropzone.is-drag .dz-icon{ transform: translateY(-2px) }
.dz-title{ font-weight:700 }
.dz-sub{ color:#8a7a61; font-size:13px }
.file-chip{ margin-top:8px; display:inline-flex; gap:8px; align-items:center; border:1px solid var(--stroke); background:#fff; border-radius:999px; padding:6px 10px }
.file-chip:before{ content:"üìÑ"; }

/* =========================================================
   NOTES / CTA / PROGRESS / TOAST
   ========================================================= */
.note{ margin:12px 0 2px; padding:10px 12px; border:1px dashed #c9b9a4; border-radius:10px; background:#fff; color:#6b4e2e }
.cta-sticky{ position:sticky; bottom:0; margin-top:14px; display:flex; gap:12px; align-items:center; background:transparent; padding-top:6px }
.progress{ flex:1; height:10px; background:#efe6d8; border-radius:10px; overflow:hidden; border:1px solid #e3d6c5 }
.bar{ height:100%; width:0%; background:#6b4e2e; transition:width .3s ease }
.toast{ margin-top:8px; font-size:14px }
.toast.ok{ color:var(--success) }
.toast.err{ color:var(--danger) }

/* lightweight top toast (Grades) */
.ga-toast{
  position:fixed; left:50%; top:1.25rem; transform:translateX(-50%) translateY(-20px);
  opacity:0; transition:all .25s ease; z-index:9999; padding:.5rem .8rem; border-radius:.5rem;
  border:1px solid #d9d2c4; background:#fffaf4; color:#3a2d1f; box-shadow:0 6px 18px rgba(0,0,0,.06);
}
.ga-toast.show{ opacity:1; transform:translateX(-50%) translateY(0) }
.ga-toast-ok{ border-color:#bfe7cb; background:#e6f6ea; color:#0a6b2b }
.ga-toast-warn{ border-color:#f1d3a6; background:#fbf2e5; color:#7a4e00 }
.ga-toast-err{ border-color:#f7c2cc; background:#fde8ea; color:#a1142f }

/* =========================================================
   BUTTONS
   ========================================================= */
.btn-primary{
  background:var(--umber) !important; color:#fff !important; border:0; padding:10px 16px; border-radius:10px; font-weight:700; cursor:pointer;
}
.btn-primary:hover{ filter:brightness(.96) }
.btn-primary:focus{ outline:3px solid var(--focus); outline-offset:2px }
.btn-primary:disabled, .btn:disabled{ opacity:.6; cursor:not-allowed }
.btn-primary.loading{ opacity:.75; cursor:wait; pointer-events:none }
.btn-primary.loading::after{ content:"‚Ä¶"; margin-left:6px }
.btn-ghost{
  background:transparent; border:1px dashed #c9b9a4; color:#6b4e2e; padding:10px 16px; border-radius:10px; font-weight:700; cursor:pointer;
}
.btn-ghost:hover{ background:#f8f3ea }
.btn-ghost:focus{ outline:3px solid var(--focus); outline-offset:2px }

.btn, .btn-lg, .btn-xl{ border:1px solid #cbb79a; background:#efe6d6; cursor:pointer; border-radius:.5rem; padding:.35rem .65rem }
.btn:hover{ background:#e6dcc9 }
.btn-lg{ height:40px; display:inline-flex; align-items:center; padding:8px 14px }
.btn-xl{ height:44px; padding:0 16px; font-weight:700 }

/* =========================================================
   KV / PREVIEW
   ========================================================= */
.kv{ margin:6px 0 0; padding:0 }
.kv-row{ display:grid; grid-template-columns:160px 1fr; gap:10px; padding:8px 0; border-bottom:1px solid var(--stroke) }
.kv-row:last-child{ border-bottom:0 }
.kv dt{ color:#7a6446 }
.kv dd{ margin:0 }
.codebox{ max-height:420px; overflow:auto; background:#0f0f0f; color:#f7f7f7; border-radius:10px; padding:14px; border:1px solid #1a1a1a }

/* =========================================================
   TABLES (Grade Breakdown)
   ========================================================= */
.table-wrap{ overflow-x:auto; border-radius:10px; border:1px solid var(--stroke) }
.table-fixed{
  table-layout:fixed; border-collapse:separate; border-spacing:0; width:100%; font-size:14px;
}
.table-fixed thead th{
  position:sticky; top:0; background:var(--linen); z-index:1; cursor:pointer; user-select:none;
  font-weight:700; padding:12px 10px; border-bottom:1px solid var(--stroke);
  white-space:normal; overflow:visible; text-overflow:clip; line-height:1.25;
}
.table-fixed th, .table-fixed td{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap }
.table-fixed td{
  padding:10px 10px; border-bottom:1px solid var(--stroke); vertical-align:middle;
}
.table-fixed th.num, .table-fixed td.num,
.table.table-enhanced.table-fixed th.num, .table.table-enhanced.table-fixed td.num{
  text-align:center !important; font-variant-numeric:tabular-nums;
}

/* Student column wraps and is sticky */
.table-fixed th.col-student, .table-fixed td.col-student{
  position:sticky; left:0; background:#fff; z-index:2; text-align:left; white-space:normal; overflow:visible; max-width:22rem;
}
@media (max-width:700px){ .table-fixed td.col-student{ max-width:none } }

/* Zebra rows */
.table-fixed tbody tr:nth-child(odd):not(.team-header){ background:#fffdf8 }
tr.ns{ background:#fff7f7 !important } /* non-submitters */

/* Team header rows (single definition) */
.table .team-header td,
.table-fixed .team-header td{
  background:#f2eadf; color:#6b4e2e; font-weight:700; border-bottom:1px solid var(--stroke); padding:10px 12px;
}

/* Column labels (wrap for long names) */
th.sorted-asc::after{ content:" ‚ñ≤"; font-size:11px; color:#6b4e2e }
th.sorted-desc::after{ content:" ‚ñº"; font-size:11px; color:#6b4e2e }

/* PA Status column width and badge fit (7th col) */
.table-fixed thead th:nth-child(7), .table-fixed tbody td:nth-child(7){
  width:8.5rem; text-align:center; overflow:visible; text-overflow:clip; padding-right:8px;
}
.table-fixed td:nth-child(7) .badge{
  display:inline-flex; align-items:center; justify-content:center; min-width:6.75rem; padding:4px 10px; line-height:1;
}

/* Final Mark (8th) emphasis */
.table-fixed thead th:nth-child(8), .table-fixed tbody td:nth-child(8){ text-align:center !important }
.table-fixed tbody tr td:nth-child(8){ font-weight:800; background:#fffaf2; border-left:1px solid var(--stroke) }
.table-fixed tbody tr:hover td:nth-child(8){ background:#fff6e8 }

/* Mobile: transform rows into cards */
@media (max-width:760px){
  .table-fixed thead{ display:none }
  .table-fixed, .table-fixed tbody, .table-fixed tr, .table-fixed td{ display:block; width:100% }
  .table-fixed tbody tr{ border:1px solid var(--stroke); border-radius:12px; padding:12px; margin-bottom:12px; background:#fff }
  .table-fixed td.col-student{ font-weight:700; font-size:16px; position:static; max-width:none; margin-bottom:6px }
  .table-fixed td{ display:flex; justify-content:space-between; gap:10px; padding:6px 0; border:0 }
  .table-fixed td::before{ content:attr(data-label); color:#8a7a61; font-weight:600 }
  .table-fixed td.num{ width:auto }
}

/* Badges (status pills) */
.badge{ display:inline-block; padding:3px 8px; border-radius:999px; font-size:12px; border:1px solid var(--stroke) }
.badge.good{ background:#f1f8f4; color:#125b2a; border-color:#cfe7d7 }
.badge.bad{ background:#fbf2f2; color:#7f1d1d; border-color:#f0cfcf }

/* =========================================================
   GROUP MARK ‚Äî INLINE EDITOR (left card & team headers)
   ========================================================= */
/* Left card list */
#gmConfigBox .gm-list{
  display:grid; gap:12px;
  --gm-row-h: 80px;
  max-height: calc(2 * var(--gm-row-h) + 12px);
  overflow-y:auto; padding-right:6px; scrollbar-gutter:stable;
}
#gmConfigBox .gm-list::-webkit-scrollbar{ width:10px }
#gmConfigBox .gm-list::-webkit-scrollbar-thumb{
  background:rgba(0,0,0,.15); border-radius:999px; border:2px solid transparent; background-clip:content-box;
}
#gmConfigBox .gm-list{ scrollbar-width:thin; scrollbar-color:rgba(0,0,0,.25) transparent }
#gmConfigBox .gm-row{
  display:grid; grid-template-columns:auto 120px 84px 64px; /* name | input | Save | status */
  align-items:center; column-gap:10px; row-gap:6px; padding:6px 8px; border-radius:10px;
}
#gmConfigBox .team-name{ font-weight:200 }
#gmConfigBox .gm-input{ text-align:center }
#gmConfigBox .gm-save{ min-width:72px }

/* Team-header inline editor (table header strip) */
.team-header .gm-edit{ display:flex; gap:8px; align-items:center; justify-content:flex-end }
.team-header .gm-edit input{ width:120px; padding:6px 8px; border:1px solid var(--stroke); border-radius:10px }

/* GM chips (single definition) */
.gm-chip{
  font-size:12px; border:1px solid var(--stroke); border-radius:999px; padding:2px 8px; font-weight:600;
}
.gm-chip.missing{ background:#fff3e6; color:#6b4e2e }
.gm-chip.saved{ background:#f1f8f4; color:#125b2a; border-color:#cfe7d7 }
.gm-chip.error{ background:#fbf2f2; color:#7f1d1d; border-color:#f0cfcf }
.gm-chip:empty{ display:none }

.gm-status{ margin-left:8px; font-size:13px; font-weight:600 }
.gm-status.saving{ color:#666 }
.gm-status.saved{ color:#125b2a }
.gm-status.error{ color:#7f1d1d }
.gm-missing{ background:#fff3e6; padding:4px; border-radius:8px }

/* =========================================================
   KPIs / FILTERS / TOOLBAR
   ========================================================= */
.table-toolbar{ display:flex; justify-content:space-between; gap:16px; align-items:flex-end; margin-bottom:10px; flex-wrap:wrap }
.filters, .filters-tight{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
.filters-tight{ margin:14px 0 6px }
.filters-tight .ctrl-lg{ min-width:220px }
.pill, .pill-xl{ display:inline-flex; align-items:center; border:1px solid var(--stroke); border-radius:999px; background:#fff; color:#6b4e2e; padding:6px 10px }
.pill-xl{ height:44px; padding:0 12px }

.kpi-track{
  display:grid; grid-template-columns:repeat(3, minmax(0, 1fr)); gap:12px; align-items:stretch;
}
.kpi-track .kpi{
  display:flex; flex-direction:column; justify-content:center; min-height:84px;
  border:1px solid var(--stroke); border-radius:12px; background:#fff; padding:14px 16px;
}
@media (max-width:900px){ .kpi-track{ grid-template-columns:repeat(2, minmax(0, 1fr)) } }
@media (max-width:560px){ .kpi-track{ grid-template-columns:1fr } }

.kpi{ background:#fff; border:1px solid var(--stroke); border-radius:14px; padding:14px }
.kpi-label{ color:#8a7a61; font-size:13px; margin-bottom:6px }
.kpi-value{ font-weight:800; font-size:28px }

/* =========================================================
   ‚ÄúWHAT THE COLUMNS MEAN‚Äù (helper)
   ========================================================= */
.card.helper details{ cursor:default }
.card.helper summary{ list-style:none; cursor:pointer }
.card.helper summary::-webkit-details-marker{ display:none }

.cols-guide, .cols-guide-simple{}
.cols-cta{ margin-top:10px; font-size:14px; text-align:right }
.cols-cta a{ font-weight:700; color:var(--umber); text-decoration:none }
.cols-cta a:hover{ text-decoration:underline }

.cols-simple{
  display:grid; gap:8px 24px; grid-template-columns:repeat(3, minmax(220px, 1fr));
  margin-top:10px; align-items:start;
}
.cols-simple .col-item{ padding:4px 2px }
.cols-simple .col-item h4{ margin:0 0 4px; font-size:14px; letter-spacing:.2px; font-weight:700; color:var(--ink) }
.cols-simple .col-item p{ margin:0; color:var(--muted); font-size:13px; line-height:1.45 }
@media (max-width:980px){ .cols-simple{ grid-template-columns:repeat(2, minmax(220px, 1fr)) } }
@media (max-width:560px){ .cols-simple{ grid-template-columns:1fr } }

/* =========================================================
   ‚ÄúMETHODOLOGY PAGE
   ========================================================= */
.doc-modern{ --pad:22px; max-width:980px; margin:24px auto 64px; padding:0 20px }
.hero{ background:var(--linen); border:1px solid var(--stroke); border-radius:16px; padding:24px; margin-bottom:16px; display:grid; gap:10px }
.hero h1{ margin:0; font-size:24px } .hero p{ margin:0; color:var(--muted) }
.meta-row{ display:flex; gap:10px; flex-wrap:wrap }
.meta-chip{ border:1px solid var(--stroke); border-radius:999px; padding:6px 10px; font-size:13px; background:#fff }

.layout{ display:grid; grid-template-columns:230px 1fr; gap:18px }
@media (max-width:920px){ .layout{ grid-template-columns:1fr } }

.toc{
  position:sticky; top:16px; align-self:start;
  border:1px solid var(--stroke); border-radius:14px; background:#fff; padding:12px;
}
.toc h4{ margin:0 0 8px; font-size:13px; color:#8a7a61; letter-spacing:.2px }
.toc a{ display:block; padding:8px 10px; border-radius:8px; text-decoration:none; color:var(--ink); font-size:14px }
.toc a:hover{ background:#fbf7f1 }
.toc a.active{ background:#f6efe6; font-weight:700 }

.section{ background:#fff; border:1px solid var(--stroke); border-radius:16px; padding:var(--pad); margin-bottom:14px; scroll-margin-top:84px }
.section h2{ margin:0 0 6px; font-size:18px }
.lead{ color:var(--muted); margin:0 0 10px }

.formula{
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
  background:#fff; border:1px solid var(--stroke); border-radius:10px; padding:10px 12px; display:inline-block;
}
.defs{ display:grid; grid-template-columns:repeat(2, minmax(220px,1fr)); gap:12px }
@media (max-width:720px){ .defs{ grid-template-columns:1fr } }
.def{ border:1px dashed #e1d6c7; background:#fffefb; border-radius:12px; padding:12px }
.def b{ display:block; margin-bottom:4px }

.callout{ background:var(--linen); border:1px solid var(--stroke); border-radius:12px; padding:12px; margin:10px 0 0 }

details.ex{ border:1px solid var(--stroke); border-radius:12px; background:#fff; padding:12px }
details.ex summary{ cursor:pointer; font-weight:700 }
details.ex .ex-body{ margin-top:8px; display:grid; gap:8px }
.pill{ display:inline-flex; align-items:center; gap:8px; border:1px solid var(--stroke); border-radius:999px; padding:6px 10px; background:#fff }

.badge-ok{ background:#e6f6ea; color:#125b2a; border:1px solid #cfe7d7; border-radius:999px; padding:2px 8px; font-size:12px }
.badge-warn{ background:#fbf2f2; color:#7f1d1d; border:1px solid #f0cfcf; border-radius:999px; padding:2px 8px; font-size:12px }
.anchor{ color:#8a7a61; text-decoration:none; font-size:12px; margin-left:6px }
.anchor:hover{ text-decoration:underline }

/* Info grid cards */
.info-grid{ display:grid; gap:12px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)) }
.info-card{
  display:flex; flex-direction:column; background:#fff; border:1px solid var(--stroke);
  border-radius:14px; padding:14px 16px; min-height:140px;
}
.info-head{ display:flex; align-items:center; gap:10px; margin-bottom:6px }
.info-head h3{ margin:0; font-size:15px; font-weight:800; letter-spacing:.2px }
.info-ico{
  width:28px; height:28px; display:grid; place-items:center; border-radius:8px; background:var(--linen); border:1px solid var(--stroke); font-size:16px;
}
.info-card p{ margin:4px 0 0; color:var(--ink) }
.info-card .formula{ margin-top:8px }
.info-card code{
  padding:6px 8px; border-radius:8px; display:inline-block; font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; font-size:12.5px;
}
.info-card .chip.tip{ border:1px solid var(--stroke); border-radius:999px; padding:0 6px; font-size:12px; background:#fff }
.info-card .sep{ color:#999; margin:0 6px }
.info-card .badge{ padding:3px 8px; font-size:12px; border-radius:999px }
.doc-modern .card{ margin-bottom:14px }
.doc-modern .card:last-child{ margin-bottom:0 }

/* Upload page width alignment with doc-modern */
#ingest, #details{ width:100%; max-width:980px; margin-inline:auto }
@media (min-width:1100px){
  #ingest .grid-2, #details .grid-2{ grid-template-columns:1.15fr 1fr }
}

/* =========================================================
   AUTH (Login / Register) 
   ========================================================= */
body.auth-fx{ background:var(--linen); min-height:100svh; display:flex; flex-direction:column }
.fx-main{ flex:1 1 auto; padding:24px 0 40px }

/* Tabs */
.fx-tabbar{ display:flex; gap:8px; padding:10px 12px 0; border-bottom:1px solid var(--stroke); background:#fffdf8 }
.fx-tab{
  display:inline-block; padding:8px 12px; border-radius:10px 10px 0 0; text-decoration:none; color:var(--ink); font-weight:600;
}
.fx-tab.active, .fx-tab:hover{ background:#fff }

/* Panes */
.fx-panes{ padding:14px }
.fx-pane{ display:none; gap:10px }
.fx-pane.show{ display:grid }

/* Two-column mini grid (names) */
.fx-two{ display:grid; grid-template-columns:1fr 1fr; gap:10px }
@media (max-width:560px){ .fx-two{ grid-template-columns:1fr } }

/* Inputs + actions */
.fx-input{
  width:100%; height:44px; padding:10px 12px; border:1px solid var(--stroke); border-radius:10px; background:#fff; color:var(--ink);
}
.fx-input:focus{ border-color:rgba(107,78,46,.5) !important; box-shadow:0 0 0 4px var(--ring) !important }
.fx-remember{ display:inline-flex; align-items:center; gap:8px; font-weight:500 }
.fx-actions{ display:flex; align-items:center; gap:12px; justify-content:flex-end; margin-top:4px }
.fx-link{ color:var(--umber) !important; text-decoration:none; text-align:right }
.fx-link:hover{ text-decoration:underline }
.fx-msg{ min-height:1.2em; color:var(--muted) }

/* Auth card widths */
.fx-card.card{ width:100%; max-width:720px; margin:32px auto 0; padding:16px }
.auth-card.simple, .auth-card.auth-simple{ width:100%; max-width:600px; margin:24px auto; padding:26px 24px 22px; animation:fadeUp .35s ease both }
@media (min-width:1200px){
  .fx-card.card{ max-width:760px }
  .auth-card.simple, .auth-card.auth-simple{ max-width:640px }
}
@keyframes fadeUp{ from{opacity:0; transform:translateY(10px)} to{opacity:1; transform:translateY(0)} }

/* Simple auth styles */
.auth-title{ margin:0 0 14px; text-align:center; font-size:22px; font-weight:700; color:#222 }
.auth-sub{ text-align:center; font-size:14px; color:var(--muted); margin:-6px 0 18px }
.auth-simple .field{ margin-bottom:10px }
.auth-simple input{
  width:100%; font-size:16px; padding:14px 16px; border-radius:10px; border:1px solid var(--stroke); outline:none;
  transition:box-shadow .15s ease, border-color .15s ease; background:#fff;
}
.auth-simple input::placeholder{ color:#9aa3ad }
.auth-simple input:focus{ border-color:rgba(107,78,46,.5) !important; box-shadow:0 0 0 4px var(--ring) !important }
.auth-alt{ text-align:center; font-size:13px; color:var(--muted); margin:10px 0 2px }
.auth-alt a{ color:var(--umber) !important; text-decoration:none }
.auth-alt a:hover{ text-decoration:underline }

/* Floating labels */
.field.float{ position:relative; margin-bottom:10px }
.field.float input{
  width:100%; height:44px; padding:14px 12px 10px; border:1px solid var(--stroke); border-radius:10px; background:#fff; color:var(--ink);
}
.field.float label{
  position:absolute; left:12px; top:12px; font-size:14px; color:#979089; transition:all .15s ease; pointer-events:none; background:#fff; padding:0 4px;
}
.field.float input:focus + label,
.field.float input:not(:placeholder-shown) + label{ top:-8px; font-size:11px; color:var(--umber) }

/* Password toggle */
.field.pwd{ display:grid; grid-template-columns:1fr; grid-template-rows:auto auto }
.field.pwd input{ grid-area:1 / 1; padding-right:44px }
.pwd-toggle{
  grid-area:1 / 1; justify-self:end; align-self:center; position:relative; width:36px; height:36px; background:transparent; color:#8a7a61; transition:background .2s, color .2s;
}
.pwd-toggle:hover{ background:#fbf7f1; color:var(--umber) }
.pwd-toggle::before{
  content:""; display:block; width:18px; height:18px; margin:8px auto; background:currentColor;
  -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%23000" viewBox="0 0 24 24"><path d="M12 5c5.25 0 9.27 4.21 10.5 6-1.23 1.79-5.25 6-10.5 6S2.73 12.79 1.5 11C2.73 9.21 6.75 5 12 5Zm0 10a4 4 0 1 0 0-8 4 4 0 0 0 0 8Zm0-2.5A1.5 1.5 0 1 1 12 9a1.5 1.5 0 0 1 0 3.5Z"/></svg>') center / contain no-repeat;
          mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%23000" viewBox="0 0 24 24"><path d="M12 5c5.25 0 9.27 4.21 10.5 6-1.23 1.79-5.25 6-10.5 6S2.73 12.79 1.5 11C2.73 9.21 6.75 5 12 5Zm0 10a4 4 0 1 0 0-8 4 4 0 0 0 0 8Zm0-2.5A1.5 1.5 0 1 1 12 9a1.5 1.5 0 0 1 0 3.5Z"/></svg>') center / contain no-repeat;
}
.field.pwd .error{ grid-area:2 / 1; margin-top:6px }

/* Remove UA buttons in password inputs */
input[type="password"]::-ms-reveal,
input[type="password"]::-ms-clear{ display:none !important; width:0; height:0 }
input[type="password"]::-webkit-credentials-auto-fill-button{ display:none !important }
input[type="password"]{ appearance:none }

/* Auth grids */
.auth-form .grid-2{ display:grid; gap:12px; grid-template-columns:1fr 1fr }
@media (max-width:700px){ .auth-form .grid-2{ grid-template-columns:1fr } }

/* =========================================================
   MISC
   ========================================================= */
.section-title{ margin:6px 0 8px; font-size:16px; font-weight:700 }
.hstack{ display:flex; gap:10px; align-items:center }
.empty{
  min-height:100px; display:grid; place-content:center; text-align:left; color:rgba(0,0,0,.55);
}

.cards-row .card{ padding:18px }
